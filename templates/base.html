{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Cookme</title>
    {% block mainstyle %}
        <!-- In case the main stylesheet need to be overwritten. -->
        <link rel="stylesheet" href="{% static 'css/main.css' %}">
        <link href="https://fonts.googleapis.com/css?family=Lato:black"
              rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato:black|Raleway"
              rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    {% endblock %}

    {% block head %}
        <!-- Put any additional stylesheets, JS, etc here. -->
    {% endblock %}

</head>

<body>
    <header>

        <nav>
            <!-- Perhaps some cleaner way to have Home on the left? -->
            <li class="navigation-home">
                <a href="{% url 'home' %}">Home</a>
            </li>

            <!-- REMOVE LATER: ONLY TO MAKE USERNAME IS CLEAR IN PRODUCTION -->
            {% if user.is_authenticated %}
                <span id="welcome-user">Welcome, {{ user.username }}</span>
            {% endif %}

            <!-- Navigation bar (except Home) -->
            <ul class="navigation-other">
                <li><a href="{% url 'recipes:recipes' %}">Recipes</a></li>
                <!-- Here should be a link to user's fridge (on the right side). -->
                {% if user.is_authenticated %}
                    <li><a href="{% url 'fridge:fridge_detail' %}">Fridge</a></li>
                    <li><a href="{% url 'logout' %}">Logout</a></li>
                {% else %}
                    <!-- Hiding links when clicked on them avoids the problem of
                    redirection to the same page. -->
                    <li>{% url 'login' as login_url %}</li>
                    {% if request.path != login_url %}
                        <li><a href="{% url 'login' %}?next={{ request.path|urlencode }}">Login</a></li>
                    {% endif %}
                    <li>{% url 'register' as register_url %}</li>
                    {% if request.path != register_url %}
                        <li><a href="{% url 'register' %}?next={{ request.path|urlencode }}">Register</a></li>
                    {% endif %}
                {% endif %}
            </ul>
        </nav>

        {% block header %}
        {% endblock %}
    </header>

    <main>
        <!-- Need to use CSS to make the search bar wider. Placeholder
        doesn't fit -->
        {% block main %}
            <form action="{% url 'home' %}" method="post" id="search-bar">
                {% csrf_token %}
                {{ form.q }}
                <input type="submit" value="Search" />
            </form>
        {% endblock %}
        <!-- Find out a cleaner way to have a gap between main body and foot -->
        <div class="push"></div>
    </main>

    <footer>
        <div id="copyright">
            Copyright? More like no-right, eh, eh?.. OK.
            <ul class="footer-links">
                <li><a href="https://github.com/vilisimo/cookme">GitHub</a></li>
                <li><a href="https://uk.linkedin.com/in/simonasviliunas">LinkedIn</a></li>
            </ul>
        </div>
        {% block footer %}
        {% endblock %}
    </footer>

</body>

</html>